<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="br.com.squadtech.bluetech.controller.professorTG.ImportacaoCSVController"
            stylesheets="@../../css/Style.css"
            fitToWidth="true"
            style="-fx-background: transparent; -fx-border-color: transparent;"
            vvalue="0.0">

    <content>
        <AnchorPane prefWidth="860" minHeight="700"
                    style="-fx-background-color: transparent;">

            <!-- Painel principal com borda dourada -->
            <VBox layoutX="20" layoutY="20" spacing="20" prefWidth="860"
                  styleClass="panel-golden-rounded"
                  style="-fx-padding: 25; -fx-background-color: transparent; -fx-min-height: 650;">

                <!-- TÃ­tulo -->
                <Label text="ImportaÃ§Ã£o em Massa - Professores Orientadores"
                       styleClass="label-title"
                       style="-fx-text-fill: #1e3a8a; -fx-font-size: 24px;"/>

                <!-- SeÃ§Ã£o de SeleÃ§Ã£o de Arquivo -->
                <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <Label text="SeleÃ§Ã£o do Arquivo" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-size: 16px;"/>

                    <HBox spacing="15" alignment="CENTER_LEFT">
                        <Button fx:id="btnSelecionarArquivo" text="Selecionar Arquivo CSV"
                                onAction="#selecionarArquivo"
                                styleClass="button"
                                style="-fx-pref-width: 180; -fx-font-weight: bold;"/>
                        <Label fx:id="lblArquivoSelecionado" text="Nenhum arquivo selecionado"
                               style="-fx-text-fill: #7f8c8d; -fx-font-style: italic; -fx-font-size: 14px;"/>
                    </HBox>

                    <!-- Barra de Progresso -->
                    <VBox spacing="8">
                        <ProgressBar fx:id="progressBar" prefWidth="820" progress="0"
                                     style="-fx-accent: #2563eb; -fx-pref-height: 8;"/>
                        <Label fx:id="lblStatus" text="Selecione um arquivo CSV para importar"
                               style="-fx-text-fill: #2c3e50; -fx-font-size: 13px;"/>
                    </VBox>
                </VBox>

                <!-- BotÃµes de AÃ§Ã£o -->
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Button fx:id="btnImportar" text="Importar Dados"
                            onAction="#importarDados" disable="true"
                            styleClass="button"
                            style="-fx-pref-width: 140; -fx-font-weight: bold;"/>
                    <Button fx:id="btnLimpar" text="Limpar"
                            onAction="#limparDados"
                            styleClass="button-secondary"
                            style="-fx-pref-width: 100; -fx-font-weight: bold;"/>
                </HBox>

                <!-- Tabela de Preview -->
                <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 12; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0, 0, 2);">
                    <Label text="Preview dos Dados (mÃ¡ximo 100 registros):"
                           style="-fx-font-weight: bold; -fx-text-fill: #2c3e50; -fx-font-size: 16px;"/>

                    <TableView fx:id="tableViewPreview" prefHeight="300" prefWidth="820"
                               styleClass="card">
                        <columns>
                            <TableColumn fx:id="colNome" text="Nome" prefWidth="150"/>
                            <TableColumn fx:id="colEmail" text="Email" prefWidth="200"/>
                            <TableColumn fx:id="colCargo" text="Cargo" prefWidth="120"/>
                            <TableColumn fx:id="colCurso" text="Curso" prefWidth="120"/>
                            <TableColumn fx:id="colFormacao" text="FormaÃ§Ã£o" prefWidth="150"/>
                            <TableColumn fx:id="colEspecializacao" text="EspecializaÃ§Ã£o" prefWidth="150"/>
                        </columns>
                    </TableView>
                </VBox>

                <!-- InformaÃ§Ãµes do Formato -->
                <VBox spacing="10" style="-fx-background-color: #f8fafc; -fx-background-radius: 12; -fx-padding: 20; -fx-border-color: #e2e8f0; -fx-border-width: 2; -fx-border-radius: 12;">
                    <Label text="ðŸ“‹ Formato do CSV Esperado:" style="-fx-font-weight: bold; -fx-text-fill: #1e3a8a; -fx-font-size: 16px;"/>

                    <VBox spacing="5" style="-fx-padding: 10 0 0 0;">
                        <Label text="â€¢ Separador: Ponto e vÃ­rgula (;)" style="-fx-text-fill: #4a5568; -fx-font-size: 14px;"/>
                        <Label text="â€¢ Colunas: nome;email;cargo;curso;formacao;especializacao" style="-fx-text-fill: #4a5568; -fx-font-size: 14px;"/>
                        <Label text="â€¢ Exemplo: JoÃ£o Silva;joao.silva@email.com;Professor;Engenharia;Mestrado;InteligÃªncia Artificial"
                               style="-fx-text-fill: #4a5568; -fx-font-size: 14px; -fx-wrap-text: true;"/>
                        <Label text="â€¢ A primeira linha deve ser o cabeÃ§alho" style="-fx-text-fill: #4a5568; -fx-font-size: 14px;"/>
                    </VBox>
                </VBox>

            </VBox>

        </AnchorPane>
    </content>
</ScrollPane>